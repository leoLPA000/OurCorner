<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Libro de eventos especiales para Roc√≠o - OurCorner">
    <meta name="theme-color" content="#764ba2">
    <title>Eventos Especiales üé™ | OurCorner</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="../assets/css/eventos-libro.css">

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Great+Vibes&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Bot√≥n de regreso -->
    <a href="../index.html" class="btn-regresar">
        <span>‚Üê</span>
        <span>Volver al Inicio</span>
    </a>

    <div class="eventos-container">
        <!-- Header -->
        <header class="eventos-header">
            <h1>üé™ Nuestros Eventos Especiales üé™</h1>
            <p>Momentos m√°gicos guardados en nuestro libro de recuerdos</p>
        </header>

        <!-- Libro -->
        <div class="libro-wrapper">
            <div class="libro-abierto">
                <!-- P√°gina Izquierda -->
                <div class="pagina pagina-izquierda" id="paginaIzquierda">
                    <!-- Contenido din√°mico -->
                </div>

                <!-- P√°gina Derecha -->
                <div class="pagina pagina-derecha" id="paginaDerecha">
                    <!-- Contenido din√°mico -->
                </div>
            </div>

            <!-- Navegaci√≥n -->
            <div class="libro-navegacion">
                <button class="btn-nav" id="btnAnterior" onclick="cambiarPagina(-1)">
                    ‚Üê Anterior
                </button>
                <div class="pagina-indicador" id="indicadorPagina">
                    P√°gina 1
                </div>
                <button class="btn-nav" id="btnSiguiente" onclick="cambiarPagina(1)">
                    Siguiente ‚Üí
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/data/eventosData.js"></script>
    <script>
        // Control de p√°ginas
        let paginaActual = 0;
        const eventosPorPagina = 2;

        /**
         * Renderizar eventos en las p√°ginas del libro
         */
        function renderizarPagina() {
            const eventos = obtenerEventos();
            const indiceInicio = paginaActual * eventosPorPagina;
            const eventosPagina = eventos.slice(indiceInicio, indiceInicio + eventosPorPagina);

            const paginaIzq = document.getElementById('paginaIzquierda');
            const paginaDer = document.getElementById('paginaDerecha');

            // Limpiar p√°ginas
            paginaIzq.innerHTML = '';
            paginaDer.innerHTML = '';

            // Renderizar evento izquierdo
            if (eventosPagina[0]) {
                paginaIzq.innerHTML = crearTarjetaEvento(eventosPagina[0]);
            } else {
                paginaIzq.innerHTML = '<div class="pagina-vacia">P√°gina disponible para futuros eventos...</div>';
            }

            // Renderizar evento derecho
            if (eventosPagina[1]) {
                paginaDer.innerHTML = crearTarjetaEvento(eventosPagina[1]);
            } else {
                paginaDer.innerHTML = '<div class="pagina-vacia">P√°gina disponible para futuros eventos...</div>';
            }

            // Actualizar controles de navegaci√≥n
            actualizarNavegacion(eventos.length);
        }

        /**
         * Crear HTML de tarjeta de evento
         */
        function crearTarjetaEvento(evento) {
            return `
                <div class="evento-card">
                    <div class="evento-icono">${evento.icono}</div>
                    <h2 class="evento-nombre">${evento.nombre}</h2>
                    <p class="evento-fecha">${evento.fecha}</p>
                    <p class="evento-descripcion">${evento.descripcion}</p>
                    <a href="${evento.url}" class="btn-acceder-evento">
                        ‚ú® Acceder al Evento
                    </a>
                </div>
            `;
        }

        /**
         * Cambiar de p√°gina
         */
        function cambiarPagina(direccion) {
            const eventos = obtenerEventos();
            const totalPaginas = Math.ceil(eventos.length / eventosPorPagina);
            const nuevaPagina = paginaActual + direccion;

            if (nuevaPagina >= 0 && nuevaPagina < totalPaginas) {
                // Animaci√≥n de voltear p√°gina
                const paginaIzq = document.getElementById('paginaIzquierda');
                const paginaDer = document.getElementById('paginaDerecha');

                if (direccion > 0) {
                    paginaIzq.classList.add('flip-left');
                    paginaDer.classList.add('flip-left');
                } else {
                    paginaIzq.classList.add('flip-right');
                    paginaDer.classList.add('flip-right');
                }

                // Actualizar despu√©s de la animaci√≥n
                setTimeout(() => {
                    paginaActual = nuevaPagina;
                    renderizarPagina();

                    // Remover clases de animaci√≥n
                    paginaIzq.classList.remove('flip-left', 'flip-right');
                    paginaDer.classList.remove('flip-left', 'flip-right');
                }, 400);
            }
        }

        /**
         * Actualizar controles de navegaci√≥n
         */
        function actualizarNavegacion(totalEventos) {
            const totalPaginas = Math.ceil(totalEventos / eventosPorPagina);
            const btnAnterior = document.getElementById('btnAnterior');
            const btnSiguiente = document.getElementById('btnSiguiente');
            const indicador = document.getElementById('indicadorPagina');

            // Actualizar indicador
            indicador.textContent = `P√°gina ${paginaActual + 1} de ${totalPaginas}`;

            // Habilitar/deshabilitar botones
            btnAnterior.disabled = paginaActual === 0;
            btnSiguiente.disabled = paginaActual >= totalPaginas - 1;
        }

        /**
         * Navegaci√≥n con teclado
         */
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                cambiarPagina(-1);
            } else if (e.key === 'ArrowRight') {
                cambiarPagina(1);
            }
        });

        // Inicializar al cargar
        renderizarPagina();
    </script>
</body>

</html>